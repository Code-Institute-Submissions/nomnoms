{% extends 'iframes.html' %} {% block frame %}
<div class="row">
    <h5>Edit Ingredients</h5>
    <form action="{{url_for('remove_ingredient', recipe_id=recipe._id)}}" method="POST" name='existingIngredients'>
        {% for ingredient in recipe.ingredients %}
        <input id="ingredient_id" name='ingredient_id' type="text" class="validate hidden-element" value="{{ingredient.ingredient_id}}">
        <div class="col s4">
            <input id="icon_prefix" name='ingredient_name' type="text" class="validate" value="{{ingredient.ingredient_name}}">
        </div>
        <div class="col s3">
            <input id="icon_prefix" name='quantity' type="text" class="validate" value="{{ingredient.quantity}}">
        </div>
        <div class="col s4">
            <select id="measurements" name="measurement">
            {% for measure in measurements %}
                {% if measure == ingredient.measurement %}
                    <option value="{{measure}}" selected>{{measure}}</option>
                {% else %}
                    <option value="{{measure}}" >{{measure}}</option>
                {% endif %}
            {% endfor %}
        </select>
        </div>
        <div class="col s1">
            <button id='remove_ingredient' name="remove_ingredient" value="{{ingredient.ingredient_id}}" class="btn-floating btn-small waves-effect waves-light red" type="submit"><i class="material-icons">delete_forever</i></button>
        </div>

        {% endfor %}
    </form>
    <form action="{{url_for('add_ingredient', recipe_id=recipe._id)}}" method="POST" name="add_ingredient">
        <div class="input-field col s4">
            <input id="ingredient" type="text" class="validate" name='ingredient_name'>
            <label for="ingredient">Ingredients</label>
        </div>
        <div class="input-field col s3">
            <input id="quantity" type="text" class="validate" name='quantity'>
            <label for="quantity">Quantity</label>
        </div>
        <div class="input-field col s4">
            <select id="measurements" name='measurement'>
                <option id="default-select" value="Measurement" disabled selected>Measurement</option>
                {% for measure in measurements %}
                <option value="{{measure}}">{{measure}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col s1">
            <button id='add-ingredients' class="btn-floating btn-small waves-effect waves-light green" type="submit"><i class="material-icons">add</i></button>
        </div>
    </form>
</div>
{% endblock %}